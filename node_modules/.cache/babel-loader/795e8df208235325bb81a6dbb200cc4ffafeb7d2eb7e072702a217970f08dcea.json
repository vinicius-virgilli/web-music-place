{"ast":null,"code":"var _jsxFileName = \"/home/vinicius/Trybe/web-music-place/src/pages/ProfileEdit.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport Header from '../componentes/Header';\nimport Loading from './Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      isValidInputs: false,\n      name: '',\n      email: '',\n      description: '',\n      image: ''\n    };\n    this.test = this.test.bind(this);\n    this.saveUserInfo = this.saveUserInfo.bind(this);\n  }\n  componentDidMount() {\n    this.test();\n  }\n  async test() {\n    this.setState({\n      loading: true\n    });\n    const userInfo = await getUser();\n    const {\n      name,\n      image,\n      description,\n      email\n    } = userInfo;\n    if (name && image && description && email) {\n      this.setState({\n        isValidInputs: true\n      });\n    }\n    this.setState({\n      name,\n      email,\n      image,\n      description,\n      loading: false\n    });\n  }\n  saveUserInfo(_ref) {\n    let {\n      target\n    } = _ref;\n    const {\n      value,\n      id\n    } = target;\n    this.setState({\n      [id]: value\n    });\n    const {\n      name,\n      image,\n      description,\n      email\n    } = this.state;\n    if (name && description && email && image) {\n      this.setState({\n        isValidInputs: true\n      });\n    } else {\n      this.setState({\n        isValidInputs: false\n      });\n    }\n  }\n  render() {\n    const {\n      loading,\n      name,\n      email,\n      description,\n      image,\n      isValidInputs\n    } = this.state;\n    const exibir = loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-profile-edit\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        userName: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"image\",\n          children: \"image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"edit-input-image\",\n          type: \"text\",\n          id: \"image\",\n          value: image,\n          onChange: this.saveUserInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Nome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"edit-input-name\",\n          type: \"text\",\n          id: \"name\",\n          value: name,\n          onChange: this.saveUserInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"edit-input-email\",\n          type: \"email\",\n          id: \"email\",\n          value: email,\n          onChange: this.saveUserInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          children: \"Descri\\xE7\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"edit-input-description\",\n          type: \"text\",\n          id: \"description\",\n          value: description,\n          onChange: this.saveUserInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/profile\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            \"data-testid\": \"edit-button-save\",\n            disabled: !isValidInputs,\n            onClick: () => updateUser({\n              name,\n              image,\n              email,\n              description\n            }),\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n    return exibir;\n  }\n}\nexport default ProfileEdit;","map":{"version":3,"names":["React","Link","Header","Loading","getUser","updateUser","jsxDEV","_jsxDEV","ProfileEdit","Component","constructor","state","loading","isValidInputs","name","email","description","image","test","bind","saveUserInfo","componentDidMount","setState","userInfo","_ref","target","value","id","render","exibir","fileName","_jsxFileName","lineNumber","columnNumber","children","userName","htmlFor","type","onChange","to","disabled","onClick"],"sources":["/home/vinicius/Trybe/web-music-place/src/pages/ProfileEdit.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport Header from '../componentes/Header';\nimport Loading from './Loading';\nimport { getUser, updateUser } from '../services/userAPI';\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      loading: false,\n      isValidInputs: false,\n      name: '',\n      email: '',\n      description: '',\n      image: '',\n    };\n\n    this.test = this.test.bind(this);\n    this.saveUserInfo = this.saveUserInfo.bind(this);\n  }\n\n  componentDidMount() {\n    this.test();\n  }\n\n  async test() {\n    this.setState({ loading: true });\n    const userInfo = await getUser();\n    const { name, image, description, email } = userInfo;\n    if (name && image && description && email) {\n      this.setState({ isValidInputs: true });\n    }\n    this.setState({\n      name,\n      email,\n      image,\n      description,\n      loading: false,\n    });\n  }\n\n  saveUserInfo({ target }) {\n    const { value, id } = target;\n    this.setState({ [id]: value });\n    const { name, image, description, email } = this.state;\n    if (name && description && email && image) {\n      this.setState({\n        isValidInputs: true,\n      });\n    } else {\n      this.setState({\n        isValidInputs: false,\n      });\n    }\n  }\n\n  render() {\n    const { loading, name, email, description, image, isValidInputs } = this.state;\n    const exibir = (loading) ? (\n      <Loading />\n    ) : (\n      <div data-testid=\"page-profile-edit\">\n        <Header userName={ name } />\n        <div>\n          <label htmlFor=\"image\">image</label>\n          <input\n            data-testid=\"edit-input-image\"\n            type=\"text\"\n            id=\"image\"\n            value={ image }\n            onChange={ this.saveUserInfo }\n          />\n\n          <label htmlFor=\"name\">Nome</label>\n          <input\n            data-testid=\"edit-input-name\"\n            type=\"text\"\n            id=\"name\"\n            value={ name }\n            onChange={ this.saveUserInfo }\n          />\n\n          <label htmlFor=\"email\">Email</label>\n          <input\n            data-testid=\"edit-input-email\"\n            type=\"email\"\n            id=\"email\"\n            value={ email }\n            onChange={ this.saveUserInfo }\n          />\n\n          <label htmlFor=\"description\">Descrição</label>\n          <input\n            data-testid=\"edit-input-description\"\n            type=\"text\"\n            id=\"description\"\n            value={ description }\n            onChange={ this.saveUserInfo }\n          />\n          <Link to=\"/profile\">\n            <button\n              data-testid=\"edit-button-save\"\n              disabled={ !isValidInputs }\n              onClick={ () => updateUser({ name, image, email, description }) }\n            >\n              Salvar\n\n            </button>\n          </Link>\n\n        </div>\n      </div>\n    );\n    return exibir;\n  }\n}\nexport default ProfileEdit;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,2CAA2C;AAChE,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,OAAO,EAAEC,UAAU,QAAQ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,MAAMC,WAAW,SAASR,KAAK,CAACS,SAAS,CAAC;EACxCC,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IAEP,IAAI,CAACC,KAAK,GAAG;MACXC,OAAO,EAAE,KAAK;MACdC,aAAa,EAAE,KAAK;MACpBC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,KAAK,EAAE;IACT,CAAC;IAED,IAAI,CAACC,IAAI,GAAG,IAAI,CAACA,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC;IAChC,IAAI,CAACC,YAAY,GAAG,IAAI,CAACA,YAAY,CAACD,IAAI,CAAC,IAAI,CAAC;EAClD;EAEAE,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACH,IAAI,CAAC,CAAC;EACb;EAEA,MAAMA,IAAIA,CAAA,EAAG;IACX,IAAI,CAACI,QAAQ,CAAC;MAAEV,OAAO,EAAE;IAAK,CAAC,CAAC;IAChC,MAAMW,QAAQ,GAAG,MAAMnB,OAAO,CAAC,CAAC;IAChC,MAAM;MAAEU,IAAI;MAAEG,KAAK;MAAED,WAAW;MAAED;IAAM,CAAC,GAAGQ,QAAQ;IACpD,IAAIT,IAAI,IAAIG,KAAK,IAAID,WAAW,IAAID,KAAK,EAAE;MACzC,IAAI,CAACO,QAAQ,CAAC;QAAET,aAAa,EAAE;MAAK,CAAC,CAAC;IACxC;IACA,IAAI,CAACS,QAAQ,CAAC;MACZR,IAAI;MACJC,KAAK;MACLE,KAAK;MACLD,WAAW;MACXJ,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;EAEAQ,YAAYA,CAAAI,IAAA,EAAa;IAAA,IAAZ;MAAEC;IAAO,CAAC,GAAAD,IAAA;IACrB,MAAM;MAAEE,KAAK;MAAEC;IAAG,CAAC,GAAGF,MAAM;IAC5B,IAAI,CAACH,QAAQ,CAAC;MAAE,CAACK,EAAE,GAAGD;IAAM,CAAC,CAAC;IAC9B,MAAM;MAAEZ,IAAI;MAAEG,KAAK;MAAED,WAAW;MAAED;IAAM,CAAC,GAAG,IAAI,CAACJ,KAAK;IACtD,IAAIG,IAAI,IAAIE,WAAW,IAAID,KAAK,IAAIE,KAAK,EAAE;MACzC,IAAI,CAACK,QAAQ,CAAC;QACZT,aAAa,EAAE;MACjB,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,IAAI,CAACS,QAAQ,CAAC;QACZT,aAAa,EAAE;MACjB,CAAC,CAAC;IACJ;EACF;EAEAe,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEhB,OAAO;MAAEE,IAAI;MAAEC,KAAK;MAAEC,WAAW;MAAEC,KAAK;MAAEJ;IAAc,CAAC,GAAG,IAAI,CAACF,KAAK;IAC9E,MAAMkB,MAAM,GAAIjB,OAAO,gBACrBL,OAAA,CAACJ,OAAO;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAEX1B,OAAA;MAAK,eAAY,mBAAmB;MAAA2B,QAAA,gBAClC3B,OAAA,CAACL,MAAM;QAACiC,QAAQ,EAAGrB;MAAM;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC5B1B,OAAA;QAAA2B,QAAA,gBACE3B,OAAA;UAAO6B,OAAO,EAAC,OAAO;UAAAF,QAAA,EAAC;QAAK;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACpC1B,OAAA;UACE,eAAY,kBAAkB;UAC9B8B,IAAI,EAAC,MAAM;UACXV,EAAE,EAAC,OAAO;UACVD,KAAK,EAAGT,KAAO;UACfqB,QAAQ,EAAG,IAAI,CAAClB;QAAc;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC,eAEF1B,OAAA;UAAO6B,OAAO,EAAC,MAAM;UAAAF,QAAA,EAAC;QAAI;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAClC1B,OAAA;UACE,eAAY,iBAAiB;UAC7B8B,IAAI,EAAC,MAAM;UACXV,EAAE,EAAC,MAAM;UACTD,KAAK,EAAGZ,IAAM;UACdwB,QAAQ,EAAG,IAAI,CAAClB;QAAc;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC,eAEF1B,OAAA;UAAO6B,OAAO,EAAC,OAAO;UAAAF,QAAA,EAAC;QAAK;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACpC1B,OAAA;UACE,eAAY,kBAAkB;UAC9B8B,IAAI,EAAC,OAAO;UACZV,EAAE,EAAC,OAAO;UACVD,KAAK,EAAGX,KAAO;UACfuB,QAAQ,EAAG,IAAI,CAAClB;QAAc;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC,eAEF1B,OAAA;UAAO6B,OAAO,EAAC,aAAa;UAAAF,QAAA,EAAC;QAAS;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC9C1B,OAAA;UACE,eAAY,wBAAwB;UACpC8B,IAAI,EAAC,MAAM;UACXV,EAAE,EAAC,aAAa;UAChBD,KAAK,EAAGV,WAAa;UACrBsB,QAAQ,EAAG,IAAI,CAAClB;QAAc;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC,eACF1B,OAAA,CAACN,IAAI;UAACsC,EAAE,EAAC,UAAU;UAAAL,QAAA,eACjB3B,OAAA;YACE,eAAY,kBAAkB;YAC9BiC,QAAQ,EAAG,CAAC3B,aAAe;YAC3B4B,OAAO,EAAGA,CAAA,KAAMpC,UAAU,CAAC;cAAES,IAAI;cAAEG,KAAK;cAAEF,KAAK;cAAEC;YAAY,CAAC,CAAG;YAAAkB,QAAA,EAClE;UAGD;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;IACD,OAAOJ,MAAM;EACf;AACF;AACA,eAAerB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}